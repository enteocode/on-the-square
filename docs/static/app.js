!function(e){function t(t){for(var r,i,c=t[0],s=t[1],u=t[2],f=0,p=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(l&&l(t);p.length;)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/static/";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;o.push([82,1]),n()}({1:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return c}));var r="Application/MESSAGE",a="Application/SET_CENTER",o="Location/CHANGE",i="Orientation/CHANGE",c="Venues/UPDATE"},11:function(e,t,n){"use strict";n(62),n(27);var r=n(19),a=n.n(r),o=(n(48),n(1)),i=function(e){return{type:o.e,data:e}};function c(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var s=function(e,t){return void 0===t&&(t=!1),{type:o.a,message:e,error:t}},u=function(e){return{type:o.b,center:e}},l=function(e){return t=a.a.mark((function t(n,r,o){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(u(e)),t.prev=1,t.t0=n,t.t1=i,t.next=6,o.getVenues(e);case 6:t.t2=t.sent,t.t3=(0,t.t1)(t.t2),(0,t.t0)(t.t3),t.next=14;break;case 11:t.prev=11,t.t4=t.catch(1),n(s(t.t4.message,!0));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})),n=function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){c(o,r,a,i,s,"next",e)}function s(e){c(o,r,a,i,s,"throw",e)}i(void 0)}))},function(e,t,r){return n.apply(this,arguments)};var t,n}},117:function(e,t,n){},12:function(e,t,n){e.exports={container:"fcb6d4",info:"_767c01",text:"_696730",icon:"fba91c",map:"e9f7ea",marker:"_13f243","fx-marker-pulse":"fec78c",venue:"b417a8",type:"_748b77"}},14:function(e,t,n){e.exports={container:"ce1907",header:"fc8258",status:"abaa86",wrapper:"_4571d2",visible:"a270f4",error:"_187525"}},144:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(38),i=n.n(o),c=n(71),s=n(39),u=(n(117),function(e){var t=e.store;return a.a.createElement(s.a,{store:t},a.a.createElement(c.a,null))}),l=n(9),f=(n(118),n(79)),p=(n(32),n(28),n(27),n(33),n(20),n(1)),h={center:null,message:"",error:!1},d=Object(l.combineReducers)({application:function(e,t){void 0===e&&(e=h);var n=t.type,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["type"]);switch(n){case p.a:return Object.assign({},e,{},r);case p.b:return Object.assign({},e,{center:r.center});default:return e}},location:function(e,t){void 0===e&&(e=null);var n=t.type,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["type"]);switch(n){case p.c:return Object.assign({},e,{},r);default:return e}},orientation:function(e,t){void 0===e&&(e=null);var n=t.type,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["type"]);switch(n){case p.d:return Object.assign({},e,{},r);default:return e}},venues:function(e,t){void 0===e&&(e=null);var n=t.type,r=t.data;switch(n){case p.e:return r;default:return e}}}),m=(n(62),n(19)),v=n.n(m);function b(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}n(48),n(59);var y,g,V={client_id:"5S11GGEZ2A5JZPISTD4CPMQN5CL0NYKNF0AHJUK4AAOLVV1L",client_secret:"RFAWFOP4KERR3XESXVM3VI5K0UKR42TEP2XQW5IPTIZYJNK4"},E=/[hm]otel|atm|ban[k\u212A]|bar|beer|bi[s\u017F]tro|brea[k\u212A]fa[s\u017F]t|brewery|caf\xE9|club|di[s\u017F]tillery|food|ho[s\u017F]tel|hou[s\u017F]e|joint|lounge|marijuana|mar[k\u212A]et|night|place|pub|re[s\u017F]taurant|[s\u017F]hop|[s\u017F]mo[k\u212A]e|[s\u017F]tore|taxi/i,O={section:"topPicks",openNow:1,sortByDistance:1},j=function(e){var t,n=e.meta,r=e.response;if(200!==n.code)throw new Error(n.errorDetail,n.code);return(t=r,t.groups.reduce((function(e,t){return e.concat(t.items)}),[])).reduce((function(e,t){var n=t.venue;return e.concat([{guid:n.id,lat:n.location.lat,lng:n.location.lng,name:n.name,type:n.categories[0].name}])}),[]).filter((function(e){return E.test(e.type)}))},x=(y=v.a.mark((function e(t){var n,r,a,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.lat,r=t.lng,"explore",void 0===(i=Object.assign({ll:[n,r].join(",")},O))&&(i={}),a="https://api.foursquare.com/v2/venues/explore?"+function(e){return Object.keys(e).reduce((function(t,n){return t.concat(n+"="+encodeURIComponent(e[n]))}),[]).join("&")}(Object.assign({v:20180503},V,i)),e.next=4,fetch(a);case 4:if(200===(o=e.sent).status){e.next=7;break}throw new Error(o.statusText);case 7:return e.t0=j,e.next=10,o.json();case 10:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 12:case"end":return e.stop()}var i}),e)})),g=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=y.apply(e,t);function o(e){b(a,n,r,o,i,"next",e)}function i(e){b(a,n,r,o,i,"throw",e)}o(void 0)}))},function(e){return g.apply(this,arguments)}),w=function(e){void 0===e&&(e=null);var t=l.compose;return Object(l.createStore)(d,t(Object(l.applyMiddleware)(f.a.withExtraArgument(e))))}({getDistance:n(80).getDistance,getVenues:x});i.a.render(a.a.createElement(u,{store:w}),document.getElementById("root"))},29:function(e,t){e.exports=mapboxgl},71:function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),o=n(72),i=n(81),c=n(39),s=n(11),u=n(77),l=n(78),f=e,p=f.navigator.geolocation,h=f.DeviceOrientationEvent,d=function(t){var n,r;function c(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).handleOrientationChange=function(t){var n=t.alpha,r=t.beta,a=t.webkitCompassHeading;null!==n&&e.props.dispatch(Object(l.a)(a||n,r))},e.handleLocationChange=function(t){var n=t.coords,r=n.latitude,a=n.longitude;e.props.dispatch(Object(u.a)(r,a))},e.handleLocationError=function(t){var n=e.props.dispatch;t.code===t.PERMISSION_DENIED?n(Object(s.b)("Location is unavailable, make it work and reload the page",!0)):t.code===t.POSITION_UNAVAILABLE&&n(Object(s.b)("Position is unavailable",!0))},e.onMapLoaded=function(){e.props.dispatch(Object(s.b)(""))},e}r=t,(n=c).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var f=c.prototype;return f.componentDidMount=function(){var t,n=this.props.dispatch;p&&h?(n(Object(s.b)("Requesting location based on GPS coordinates")),e.addEventListener((t="deviceorientation",e.ondeviceorientationabsolute?t.concat("absolute"):t),this.handleOrientationChange),p.watchPosition(this.handleLocationChange,this.handleLocationError,{enableHighAccuracy:!0})):n(Object(s.b)("Try with mobile device",!0))},f.render=function(){var e=this.props,t=e.message,n=e.error,r=e.location,c=e.orientation,s=e.venues;return[r&&a.a.createElement(o.a,{key:0,location:r,venues:s,orientation:c,onLoaded:this.onMapLoaded}),a.a.createElement(i.a,{key:1,message:t,error:n,isVisible:!(r&&""===t)})]},c}(r.PureComponent);t.a=Object(c.b)((function(e){var t=e.application;return{message:t.message,error:t.error,location:e.location,orientation:e.orientation,venues:e.venues}}))(d)}).call(this,n(56))},72:function(e,t,n){"use strict";n(20),n(59),n(91);var r=n(0),a=n.n(r),o=n(29),i=n.n(o),c=n(12),s=n(73),u=n(74);i.a.accessToken="pk.eyJ1IjoiYWRhbS1zemVrZWx5IiwiYSI6ImNqYW1jOTNjMjRoNGcyd2p1ZXpmbXRwdDUifQ.7wMdv63YzYVjPI9HVaZC6A";var l=function(e){return e},f=function(e){return[e.lng,e.lat]},p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).container=a.a.createRef(),t.map=null,t.you=null,t.markers=[],t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){var e=this.props,t=e.location,n=e.onLoaded,r=f(t);this.map=new o.Map(Object.assign({center:r,container:this.container.current},s)),this.map.touchZoomRotate.disableRotation(),this.you=new o.Marker(Object.assign(document.createElement("div"),{className:c.marker})),this.you.setLngLat(r),this.you.addTo(this.map),this.map.on("load",(function(e){var t,r=e.target;r.addLayer(u,(t=r,t.getStyle().layers.find((function(e){var t=e.type,n=e.layout;return"symbol"===t&&n["text-field"]}))).id),n()}))},i.componentWillUnmount=function(){this.map.remove()},i.componentWillReceiveProps=function(e){var t=this.props,n=t.location,r=t.orientation,a=t.venues;n!==e.location&&this.setLocation(e.location),a!==e.venues&&this.setVenues(e.venues),r!==e.orientation&&this.setOrientation(e.orientation)},i.setLocation=function(e){var t=f(e);this.you.setLngLat(t),this.map.setCenter(t)},i.setOrientation=function(e){this.map.easeTo({bearing:360-e.alpha,pitch:e.beta,easing:l,duration:100})},i.setVenues=function(e){var t=this;this.markers.forEach((function(e){e.remove()})),this.markers=e.map((function(e){return function(e,t){var n,r,a,i=new o.Marker((n=e.name,r=e.type,(a=document.createElement("div")).className=c.venue,a.innerHTML=["<div>"+n+"</div>",'<div class="'+c.type+'">'+r+"</div>"].join(""),a));return i.setLngLat([e.lng,e.lat]),i.addTo(t),i}(e,t.map)}))},i.render=function(){return a.a.createElement("section",{className:c.container,role:"presentation"},a.a.createElement("div",{ref:this.container,className:c.map}),a.a.createElement("footer",{className:c.info},a.a.createElement("svg",{viewBox:"0 0 503.84 503.84",className:c.icon},a.a.createElement("path",{d:"M412.624 113.576c4.273-52.847-35.104-99.152-87.951-103.424-49.76-4.023-94.3 30.763-102.449 80.016a91.881 91.881 0 0 0-.736 11.792 95.887 95.887 0 0 0 38.224 76.416l-15.712 128-12.8-19.92c.192-2.4.448-4.8.448-7.2.344-48.6-38.775-88.277-87.375-88.621-44.956-.318-82.924 33.301-88.049 77.965a86.459 86.459 0 0 0-.656 10.704c.046 44.402 33.163 81.815 77.232 87.248a83.489 83.489 0 0 0 24-.368l53.536 83.056-3.2 26.016 31.76 3.904 4.624-37.52-85.008-131.872c-6.164-9.592-3.493-22.356 6-28.672 9.748-6.184 22.647-3.489 29.104 6.08l23.488 36.448c9.575 14.854 29.38 19.134 44.234 9.559A32.001 32.001 0 0 0 275.76 310.2l21.856-178.464c1.113-8.766 9.122-14.97 17.888-13.857a16 16 0 0 1 13.984 15.745 19.94 19.94 0 0 1-.112 2L316.24 242.728l42.08 18.48 12.8-29.296-20.304-8.928 4.032-32.96a95.312 95.312 0 0 0 57.776-76.448zM175.952 245.592c-29.205.001-52.88 23.676-52.879 52.881a52.881 52.881 0 0 0 8.479 28.719l4.896 7.6c-27.901-3.576-48.819-27.295-48.88-55.424.005-2.289.143-4.575.416-6.848 3.645-30.606 31.41-52.462 62.016-48.817a55.807 55.807 0 0 1 39.296 23.665 52.783 52.783 0 0 0-13.344-1.776zM319.36 85.864v.16c-26.222-3.308-50.161 15.268-53.469 41.491l-.035.285-1.232 10a63.68 63.68 0 0 1-11.2-35.856c.005-2.674.171-5.346.496-8 4.648-35.039 36.821-59.676 71.86-55.028 31.537 4.184 55.214 30.897 55.58 62.708a69.01 69.01 0 0 1-.496 8 63.347 63.347 0 0 1-20.992 40l1.264-10.32c3.2-26.287-15.493-50.2-41.776-53.44zM459.104 270.488l-12.864 29.296 22.944 10.08-11.552 94.064-55.44 57.68-4.544 37.04 31.744 3.904 3.264-26.464 55.44-57.68 15.744-128.272zM400.508 244.784l29.306 12.854-12.848 29.29-29.305-12.854zM187.312 60.6h-25.376l36.688-36.688L176 1.288l-36.688 36.688V12.6h-32v80h80zM59.312 188.6h32v-80h-80v32h25.376L0 177.288l22.624 22.624 36.688-36.688z"})),a.a.createElement("small",{className:c.text},"The compass works on Earth's magnetic field, so strong electrical interferences around you may affect it's operation")))},r}(r.Component);t.a=p},73:function(e){e.exports=JSON.parse('{"style":"mapbox://styles/mapbox/dark-v9?optimize=true","minZoom":15,"maxZoom":17,"zoom":17,"bearing":0,"pitch":60,"keyboard":false,"boxZoom":false,"doubleClickZoom":false,"scrollZoom":false,"dragPan":false,"dragRotate":false,"localIdeographFontFamily":"Roboto"}')},74:function(e){e.exports=JSON.parse('{"id":"3d-buildings","source":"composite","source-layer":"building","filter":["==","extrude","true"],"type":"fill-extrusion","paint":{"fill-extrusion-color":"#fff","fill-extrusion-height":9,"fill-extrusion-base":0,"fill-extrusion-opacity":0.15}}')},75:function(e,t,n){e.exports={logo:"_8e2c59"}},77:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1),a=n(11),o=Math.round,i=function(e,t){return function(n,i,c){null===i().location&&n(Object(a.b)("Hit the road Jack, just a few secs")),n(function(e,t){return{type:r.c,lat:o(1e6*e)/1e6,lng:o(1e6*t)/1e6}}(e,t));var s=i().application.center,u={lat:e,lng:t};(null===s||1e3<c.getDistance(s,u,0,1))&&n(Object(a.a)(u))}}},78:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),a=Math.floor,o=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),{type:r.d,alpha:10*a(e/10),beta:10*a(t/10)}}},81:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(75),i=function(){return a.a.createElement("svg",{className:o.logo,width:250,height:40,viewBox:"0 0 250 36.269",preserveAspectRatio:"xMinYMid meet"},a.a.createElement("path",{d:"M18.239,34.783q0,3.306-3.282,3.306H3.213Q0,38.088,0,34.783V5.24Q0,1.912,3.213,1.912H14.956q3.282,0,3.282,3.329V34.783Zm-5.409-1.341V6.558H5.409V33.442h7.42Z",transform:"translate(0 -1.865)",fill:"#fff"}),a.a.createElement("path",{d:"M40.915,38.088H36.177L27.508,15.319a13.665,13.665,0,0,1,.347,2.612V38.088h-5.27V1.912h4.739l8.669,22.307a13.663,13.663,0,0,1-.347-2.612V1.912h5.27V38.088Z",transform:"translate(0 -1.865)",fill:"#fff"}),a.a.createElement("path",{d:"M70.735,6.7H64.771V38.088H59.385V6.7H53.421V1.912H70.735V6.7Z",transform:"translate(0 -1.865)",fill:"#fff"}),a.a.createElement("path",{d:"M91.678,38.088H86.223V21.861H78.9V38.088H73.486V1.912H78.9v14.91h7.328V1.912h5.455V38.088Z",transform:"translate(0 -1.865)",fill:"#fff"}),a.a.createElement("path",{d:"M110.98,38.088h-15V1.912h14.864V6.7h-9.454V17.261h8.137v4.693h-8.137V33.3h9.593v4.785Z",transform:"translate(0 -1.865)",fill:"#fff"}),a.a.createElement("path",{d:"M141.771,34.783q0,3.306-3.282,3.306H127.6q-3.259,0-3.259-3.306V26.16h5.409v7.374h6.611v-7.1L125.52,16.174a3.833,3.833,0,0,1-1.179-2.89V5.24q0-3.329,3.259-3.329h10.888q3.282,0,3.282,3.282v8.091h-5.409V6.466H129.75v6.542l10.841,10.217a3.843,3.843,0,0,1,1.179,2.936v8.622Z",transform:"translate(0 -1.865)",fill:"#fff"}),a.a.createElement("path",{d:"M166.759,38.135h-0.37l-2.427-1.849a2.769,2.769,0,0,1-2.936,1.8H149.283q-3.214,0-3.213-3.306V5.24q0-3.329,3.282-3.329h11.674q3.282,0,3.282,3.329V31.408l2.45,1.757v4.97ZM158.9,33.442V32.171l-3.167-2.4V24.843h0.324l2.843,2.127V6.558h-7.42V33.442h7.42Z",transform:"translate(0 -1.865)",fill:"#fff"}),a.a.createElement("path",{d:"M187.471,34.783q0,3.306-3.329,3.306H172.654q-3.283,0-3.282-3.306V1.912h5.409v31.53h7.282V1.912h5.409V34.783Z",transform:"translate(0 -1.865)",fill:"#fff"}),a.a.createElement("path",{d:"M210.148,38.088h-5.363L203.7,31.223h-6.773l-1.086,6.865H190.5V38l7-36.13h5.687Zm-7.212-11.512L200.3,10.257l-2.658,16.32h5.294Z",transform:"translate(0 -1.865)",fill:"#fff"}),a.a.createElement("path",{d:"M231.692,38.088h-5.64l-5.964-16.805V18.024H225.4V6.558h-6.819v31.53h-5.409V1.912h14.355q3.259,0,3.259,3.329V18.393q0,2.288-1.549,2.959a11.136,11.136,0,0,1-3.514.347Z",transform:"translate(0 -1.865)",fill:"#fff"}),a.a.createElement("path",{d:"M250,38.088H235V1.912h14.864V6.7h-9.454V17.261h8.137v4.693h-8.137V33.3H250v4.785Z",transform:"translate(0 -1.865)",fill:"#fff"}))},c=n(52),s=n.n(c),u=n(14),l=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.message,n=e.error,r=e.isVisible;return a.a.createElement("section",{className:s()(u.container,r&&u.visible)},a.a.createElement("div",{className:u.wrapper},a.a.createElement("header",{className:u.header},a.a.createElement(i,null)),a.a.createElement("small",{className:s()(u.status,n&&u.error)},t)))},r}(r.PureComponent);t.a=l},82:function(e,t,n){n(83),n(86),e.exports=n(144)}});